# Databricks Asset Bundle Configuration
# Sales Medallion Pipeline - Accounts Data Engineering

bundle:
  name: sales-medallion-pipeline

variables:
  catalog:
    description: "Unity Catalog name for the pipeline"
    default: natyra_demo
  schema:
    description: "Schema name for the Medallion tables"
    default: sales
  source_table:
    description: "Source table name for raw account data"
    default: bronze_accounts

include:
  - resources/*.yml

# Workspace configuration - uses bundle variables
workspace:
  root_path: /Workspace/Users/${workspace.current_user.userName}/.bundle/${bundle.name}

# Multi-environment targets
targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://e2-demo-field-eng.cloud.databricks.com
    variables:
      catalog: natyra_demo
      schema: sales

  staging:
    mode: development
    workspace:
      host: https://e2-demo-field-eng.cloud.databricks.com
    variables:
      catalog: natyra_demo
      schema: sales_staging

  prod:
    mode: production
    workspace:
      host: https://e2-demo-field-eng.cloud.databricks.com
    run_as:
      user_name: ${workspace.current_user.userName}
    variables:
      catalog: natyra_demo
      schema: sales_prod
